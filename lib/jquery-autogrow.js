// Generated by CoffeeScript 1.3.1

(function($) {
  var inherit;
  inherit = ['font-family', 'font-size', 'font-variant', 'font-weight', 'font-stretch', 'letter-spacing'];
  return $.fn.autoGrow = function(options) {
    var comfortZone, _ref;
    comfortZone = (_ref = options != null ? options.comfortZone : void 0) != null ? _ref : 70;
    return this.each(function() {
      var check, input, prop, styles, testSubject, _i, _len;
      input = $(this);
      if (input.css('min-width') === '0px') {
        input.css('min-width', "" + (input.width()) + "px");
      }
      styles = {
        position: 'absolute',
        top: -9999,
        left: -9999,
        width: 'auto',
        visibility: 'hidden'
      };
      for (_i = 0, _len = inherit.length; _i < _len; _i++) {
        prop = inherit[_i];
        styles[prop] = input.css(prop);
      }
      testSubject = $('<pre/>').css(styles);
      check = function() {
        testSubject.text(input.val());
        return input.width(testSubject.width() + comfortZone);
      };
      testSubject.insertAfter(input);
      return input.bind('input', check);
    });
  };
})(typeof Zepto !== "undefined" && Zepto !== null ? Zepto : jQuery);
